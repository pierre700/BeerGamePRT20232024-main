{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pierre\\\\Desktop\\\\BeerGamePRT20232024-main\\\\client\\\\src\\\\pages\\\\NewGame.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport \"../styles/pages/NewGame.css\";\nimport Tile from \"../components/Tile\";\nimport Button from \"../components/form/Button\";\nimport InputField from \"../components/form/InputField\";\nimport checkIfStringIsValid from \"../lib/checkIfStringIsValid\";\nimport { Fragment as _Fragment, jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction NewGame(props) {\n  _s();\n  const socket = props.socketId;\n  const [demandClient] = useState(0);\n  const [selectedGameMode, setSelectedGameMode] = useState(0);\n  const [selectedRole, setSelectedRole] = useState(0);\n  const [gameCode, setGameCode] = useState(\"\");\n  const [rounds, setRounds] = useState(0);\n  const [startStock, setStartStock] = useState(0);\n  const [delay, setDelay] = useState(0);\n  const [selectedDemand, setSelectedDemand] = useState(0);\n  const [constDemand, setConstDemand] = useState(0);\n  const [minDemand, setMinDemand] = useState(0);\n  const [maxDemand, setMaxDemand] = useState(0);\n  const [rampCoeff, setRampCoeff] = useState(0);\n  const [rampShift, setRampShift] = useState(0);\n  const [sinCoeff, setSinCoeff] = useState(0);\n  const [sinFreq, setSinFreq] = useState(0);\n  const [sinPhase, setSinPhase] = useState(0);\n  const [sinShift, setSinShift] = useState(0);\n  const [selectRoleMenu, setSelectRoleMenu] = useState(false);\n  const [disabledRoles, setDisabledRoles] = useState([0, 0, 0, 0]);\n  const [inputError, setInputError] = useState(false);\n  const [redirectComponent, setRedirectComponent] = useState( /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false));\n  useEffect(() => {\n    //Rejoindre le jeu\n    socket.on(\"join_to_game\", data => {\n      console.log(\"Socket called\");\n      if (data.head.err)\n        //S'il y a une erreur lors de son entrée dans le jeu, il sera émis par alerte\n        alert(data.head.errMsg);else\n        //S'il n'y a pas d'erreur, la page du jeu est appelée\n        {\n          console.log(\"Rôle choisi: \" + data.body);\n          localStorage.setItem(\"role\", JSON.stringify(data.body.role));\n          localStorage.setItem(\"room\", JSON.stringify(data.body.room));\n          setRedirectComponent( /*#__PURE__*/_jsxDEV(Redirect, {\n            to: `/game/play/${data.body.room}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 38\n          }, this));\n        }\n    });\n    //Choisissez le rôle de jeu\n    socket.on(\"game_choose_role\", data => {\n      console.log(data);\n      setSelectRoleMenu(true);\n      let tempArray = [];\n      if (data.producer === \"NA\") tempArray.push(false);else tempArray.push(true);\n      if (data.distributor === \"NA\") tempArray.push(false);else tempArray.push(true);\n      if (data.wholesaler === \"NA\") tempArray.push(false);else tempArray.push(true);\n      if (data.retailer === \"NA\") tempArray.push(false);else tempArray.push(true);\n      setDisabledRoles(tempArray);\n      if (data.MJ === \"NA\") tempArray.push(false);else tempArray.push(true);\n      setDisabledRoles(tempArray);\n    });\n    //créer un jeu\n    socket.on(\"game_create\", data => {\n      if (data.head.err) {\n        alert(data.head.errMsg);\n      } else {\n        setSelectedGameMode(2);\n        alert(data.head.message);\n      }\n    });\n    //Fonctions de nettoyage nécessaires car toutes les prises seraient appelées lors de l'achat sur la page\n    return function cleanup() {\n      socket.off(\"join_to_game\");\n      socket.off(\"game_choose_role\");\n      socket.off(\"game_create\");\n    };\n  }, [socket]); //Affirmer le fauteuil\n\n  function onJoinGameClick() {\n    if (checkIfStringIsValid(gameCode)) {\n      if (selectedRole === 0) {\n        console.log(\"Socket submit\");\n        console.log(\"mange tes morts\");\n        socket.emit(\"join_game\", {\n          gameCode,\n          selectedRole\n        });\n      } else {\n        console.log(\"Socket submit\");\n        socket.emit(\"join_game\", {\n          gameCode,\n          selectedRole\n        });\n      }\n    } else {\n      alert(\"Incorrect \");\n      setInputError(true);\n    }\n    //console.log(gameCode)\n  }\n  function createGame() {\n    if (!checkIfStringIsValid(gameCode)) {\n      alert(\"Le code de jeu n'est pas correct!\");\n      setInputError(true);\n    } else if (!rounds) {\n      alert(\"Sélectionnez le nombre de tours!\");\n      setInputError(true);\n    } else if (!checkIfStringIsValid(startStock, \"numeric\")) {\n      alert(\"Sélectionnez le nombre de tours!\");\n    }\n    /*else if(!checkIfStringIsValid(roundOfRaise, \"numeric\") || roundOfRaise > rounds || roundOfRaise < 1) {\n        alert(\"Le tour dans lequel la quantité demandée est augmentée doit être une valeur numérique et ne peut pas être inférieur à 1 et supérieur au nombre de tours !\")\n    }*/else {\n      socket.emit(\"game_create\", {\n        gameCode,\n        gameCreated: new Date(),\n        gameSettings: {\n          rounds,\n          startStock,\n          delay,\n          selectedDemand,\n          constDemand,\n          minDemand,\n          maxDemand,\n          rampCoeff,\n          rampShift,\n          sinCoeff,\n          sinFreq,\n          sinPhase,\n          sinShift\n        },\n        roundData: {\n          currentRound: 0,\n          demandClient,\n          producer: [],\n          distributor: [],\n          wholesaler: [],\n          retailer: []\n        }\n      });\n    }\n  }\n  function getSelectedRounds(e) {\n    setRounds(e);\n  }\n  function getSelectedDemand(e) {\n    setSelectedDemand(e.target.value);\n  }\n  let options = \"\";\n  let differentDemands = \"\";\n  if (selectedGameMode === 1) {\n    differentDemands = /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Choisissez les param\\xE8tres de la demande: (ignorer si non concern\\xE9)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter value of constant...\",\n        getValue: setConstDemand\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter minimum value of Random...\",\n        getValue: setMinDemand\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter maximum value of Random...\",\n        getValue: setMaxDemand\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter value of the coeff of the ramp...\",\n        getValue: setRampCoeff\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter value of the shift of the ramp...\",\n        getValue: setRampShift\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Ex: 3.3, 0.18, -0.3, 3.7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter value of the coeff of the sinus...\",\n        getValue: setSinCoeff\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter value of the frequence of the sinus...\",\n        getValue: setSinFreq\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter value of the phase of the sinus...\",\n        getValue: setSinPhase\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter value of the shift of the sinus...\",\n        getValue: setSinShift\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }, this);\n    options = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"options_wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Entrez le code de jeu:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"GameCode\",\n        getValue: setGameCode,\n        description: \"Signes autorisés: A-Z, a-z, 0-9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Choisissez le nombre de tours de jeu:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(InputField, {\n          name: \"Rounds\",\n          getValue: getSelectedRounds,\n          description: \"Par exemple: 15\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Choisissez le stock de d\\xE9part des joueurs:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"StartStock\",\n        getValue: setStartStock,\n        description: \"Par exemple: 15\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Choisissez le d\\xE9lai des joueurs:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Délai\",\n        getValue: setDelay,\n        description: \"Par exemple: 1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Choisissez le type de demande:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"select_demand\",\n        onChange: getSelectedDemand,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"{const}\",\n            type: \"radio\",\n            name: \"demand\",\n            value: 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"const\",\n            children: \"Constant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"{rnd}\",\n            type: \"radio\",\n            name: \"demand\",\n            value: 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"rnd\",\n            children: \"Random\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"{ramp}\",\n            type: \"radio\",\n            name: \"demand\",\n            value: 2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"ramp\",\n            children: \"Ramp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"{sin}\",\n            type: \"radio\",\n            name: \"demand\",\n            value: 3\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"sin\",\n            children: \"Sinus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 17\n      }, this), differentDemands, /*#__PURE__*/_jsxDEV(Button, {\n        onClick: createGame,\n        children: \"Cr\\xE9er un jeu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 13\n    }, this);\n  } else if (selectedGameMode === 2) {\n    options = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"options_wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Entrez le code de jeu:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"GameCode\",\n        getValue: setGameCode,\n        invalid: inputError,\n        description: \"Signes autorisés: A-Z, a-z, 0-9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 17\n      }, this), selectRoleMenu ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Choisissez un r\\xF4le:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"select_role\",\n          children: [/*#__PURE__*/_jsxDEV(Tile, {\n            name: \"Producer\",\n            imgSrc: \"/icons/factory.svg\",\n            imgAlt: \"New Game\",\n            idKey: 1,\n            getValue: setSelectedRole,\n            currentSelected: selectedRole,\n            disabled: disabledRoles[0],\n            title: \"Producteur\",\n            children: \"Producteur\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Tile, {\n            name: \"Distributor\",\n            imgSrc: \"/icons/box.svg\",\n            imgAlt: \"New Game\",\n            idKey: 2,\n            getValue: setSelectedRole,\n            currentSelected: selectedRole,\n            disabled: disabledRoles[1],\n            title: \"Distributeur\",\n            children: \"Distributeur\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Tile, {\n            name: \"Wholesaler\",\n            imgSrc: \"/icons/wholesale.svg\",\n            imgAlt: \"New Game\",\n            idKey: 3,\n            getValue: setSelectedRole,\n            currentSelected: selectedRole,\n            disabled: disabledRoles[2],\n            title: \"Grossiste\",\n            children: \"Grossiste\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Tile, {\n            name: \"Retailer\",\n            imgSrc: \"/icons/shop.svg\",\n            imgAlt: \"New Game\",\n            idKey: 4,\n            getValue: setSelectedRole,\n            currentSelected: selectedRole,\n            disabled: disabledRoles[3],\n            title: \"D\\xE9taillant\",\n            children: \"D\\xE9taillant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Tile, {\n            name: \"MJ\",\n            imgSrc: \"/icons/GM.svg\",\n            imgAlt: \"New Game\",\n            idKey: 5,\n            getValue: setSelectedRole,\n            currentSelected: selectedRole,\n            disabled: disabledRoles[4],\n            children: \"Maitre du Jeu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), selectRoleMenu ? /*#__PURE__*/_jsxDEV(Button, {\n        onClick: onJoinGameClick,\n        children: \"Entrer dans le jeu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(Button, {\n        onClick: onJoinGameClick,\n        children: \"Choisissez le r\\xF4le de jeu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 13\n    }, this);\n  } else {\n    options = \"\";\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game_select\",\n    children: [redirectComponent, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tile_wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(Tile, {\n        imgSrc: \"/icons/new.svg\",\n        imgAlt: \"New Game\",\n        idKey: 1,\n        getValue: setSelectedGameMode,\n        currentSelected: selectedGameMode,\n        children: \"Cr\\xE9er un nouveau jeu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Tile, {\n        imgSrc: \"/icons/people.svg\",\n        imgAlt: \"Enter Game\",\n        idKey: 2,\n        getValue: setSelectedGameMode,\n        currentSelected: selectedGameMode,\n        children: \"Entrez dans le jeu existant\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 13\n    }, this), options]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 346,\n    columnNumber: 9\n  }, this);\n}\n_s(NewGame, \"WrmI011K34dkzqDETo7uh0/+rIo=\");\n_c = NewGame;\nexport default NewGame;\nvar _c;\n$RefreshReg$(_c, \"NewGame\");","map":{"version":3,"names":["useEffect","useState","Redirect","Tile","Button","InputField","checkIfStringIsValid","Fragment","_Fragment","jsxDEV","_jsxDEV","NewGame","props","_s","socket","socketId","demandClient","selectedGameMode","setSelectedGameMode","selectedRole","setSelectedRole","gameCode","setGameCode","rounds","setRounds","startStock","setStartStock","delay","setDelay","selectedDemand","setSelectedDemand","constDemand","setConstDemand","minDemand","setMinDemand","maxDemand","setMaxDemand","rampCoeff","setRampCoeff","rampShift","setRampShift","sinCoeff","setSinCoeff","sinFreq","setSinFreq","sinPhase","setSinPhase","sinShift","setSinShift","selectRoleMenu","setSelectRoleMenu","disabledRoles","setDisabledRoles","inputError","setInputError","redirectComponent","setRedirectComponent","on","data","console","log","head","err","alert","errMsg","body","localStorage","setItem","JSON","stringify","role","room","to","fileName","_jsxFileName","lineNumber","columnNumber","tempArray","producer","push","distributor","wholesaler","retailer","MJ","message","cleanup","off","onJoinGameClick","emit","createGame","gameCreated","Date","gameSettings","roundData","currentRound","getSelectedRounds","e","getSelectedDemand","target","value","options","differentDemands","children","name","getValue","className","description","onChange","id","type","htmlFor","onClick","invalid","imgSrc","imgAlt","idKey","currentSelected","disabled","title","_c","$RefreshReg$"],"sources":["C:/Users/pierre/Desktop/BeerGamePRT20232024-main/client/src/pages/NewGame.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport { Redirect } from \"react-router-dom\"\n\nimport \"../styles/pages/NewGame.css\"\nimport Tile from \"../components/Tile\"\nimport Button from \"../components/form/Button\"\nimport InputField from \"../components/form/InputField\"\nimport checkIfStringIsValid from \"../lib/checkIfStringIsValid\";\n\nfunction NewGame(props) {\n\n    const socket = props.socketId\n\n    const [demandClient, ] = useState(0)\n\n    const [selectedGameMode, setSelectedGameMode] = useState(0)\n    const [selectedRole, setSelectedRole] = useState(0)\n    const [gameCode, setGameCode] = useState(\"\")\n    const [rounds, setRounds] = useState(0)\n    const [startStock, setStartStock]= useState(0)\n    const [delay, setDelay]= useState(0)\n    const [selectedDemand, setSelectedDemand]= useState(0)\n\n    const [constDemand, setConstDemand] = useState(0)\n    const [minDemand, setMinDemand] = useState(0)\n    const [maxDemand, setMaxDemand] = useState(0)\n    const [rampCoeff, setRampCoeff] = useState(0)\n    const [rampShift, setRampShift] = useState(0)\n    const [sinCoeff, setSinCoeff] = useState(0)\n    const [sinFreq, setSinFreq] = useState(0)\n    const [sinPhase, setSinPhase] = useState(0)\n    const [sinShift, setSinShift] = useState(0)\n\n    const [selectRoleMenu, setSelectRoleMenu] = useState(false)\n    const [disabledRoles, setDisabledRoles] = useState([0,0,0,0])\n\n    const [inputError, setInputError] = useState(false)\n\n    const [redirectComponent, setRedirectComponent] = useState(<></>)\n\n    useEffect(() => {\n        //Rejoindre le jeu\n        socket.on(\"join_to_game\", (data) => {\n            console.log(\"Socket called\")\n            if(data.head.err) //S'il y a une erreur lors de son entrée dans le jeu, il sera émis par alerte\n                alert(data.head.errMsg)\n            else //S'il n'y a pas d'erreur, la page du jeu est appelée\n            {\n                console.log(\"Rôle choisi: \" + data.body)\n                localStorage.setItem(\"role\", JSON.stringify(data.body.role))\n                localStorage.setItem(\"room\", JSON.stringify(data.body.room))\n                setRedirectComponent(<Redirect to={`/game/play/${data.body.room}`} />)\n            }\n        })\n        //Choisissez le rôle de jeu\n        socket.on(\"game_choose_role\", data => {\n            console.log(data)\n            setSelectRoleMenu(true)\n            let tempArray = []\n            if(data.producer === \"NA\")\n                tempArray.push(false)\n            else tempArray.push(true)\n            if(data.distributor === \"NA\")\n                tempArray.push(false)\n            else tempArray.push(true)\n            if(data.wholesaler === \"NA\")\n                tempArray.push(false)\n            else tempArray.push(true)\n            if(data.retailer === \"NA\")\n                tempArray.push(false)\n            else tempArray.push(true)\n            setDisabledRoles(tempArray)\n            if(data.MJ === \"NA\")\n                tempArray.push(false)\n            else tempArray.push(true)\n            setDisabledRoles(tempArray)\n            \n        })\n        //créer un jeu\n        socket.on(\"game_create\", data => {\n            if(data.head.err) {\n                alert(data.head.errMsg)\n            }\n            else {\n                setSelectedGameMode(2)\n                alert(data.head.message)\n            }\n        })\n        //Fonctions de nettoyage nécessaires car toutes les prises seraient appelées lors de l'achat sur la page\n        return function cleanup() {\n            socket.off(\"join_to_game\")\n            socket.off(\"game_choose_role\")\n            socket.off(\"game_create\")\n        }\n    }, [socket]) //Affirmer le fauteuil\n\n    function onJoinGameClick() {\n        if(checkIfStringIsValid(gameCode)) {\n            if(selectedRole === 0) {\n                console.log(\"Socket submit\")\n                console.log(\"mange tes morts\")\n                socket.emit(\"join_game\", {\n                    gameCode,\n                    selectedRole\n\n                })\n            }\n            else {\n                console.log(\"Socket submit\")\n                socket.emit(\"join_game\", {\n                    gameCode,\n                    selectedRole\n                })\n            }\n        }\n        else {\n            alert(\"Incorrect \")\n            setInputError(true)\n        }\n        //console.log(gameCode)\n    }\n\n    function createGame() {\n        if(!checkIfStringIsValid(gameCode)) {\n            alert(\"Le code de jeu n'est pas correct!\")\n            setInputError(true)\n        }\n        else if(!rounds) {\n            alert(\"Sélectionnez le nombre de tours!\")\n            setInputError(true)\n        }\n        else if(!checkIfStringIsValid(startStock, \"numeric\")) {\n            alert(\"Sélectionnez le nombre de tours!\")\n        }\n        /*else if(!checkIfStringIsValid(roundOfRaise, \"numeric\") || roundOfRaise > rounds || roundOfRaise < 1) {\n            alert(\"Le tour dans lequel la quantité demandée est augmentée doit être une valeur numérique et ne peut pas être inférieur à 1 et supérieur au nombre de tours !\")\n        }*/\n        else {\n            socket.emit(\"game_create\", {\n                gameCode,\n                gameCreated: new Date(),\n                gameSettings: {\n                    \n                    rounds,\n                    startStock,\n                    delay,\n                    selectedDemand,\n                    constDemand,\n                    minDemand,\n                    maxDemand,\n                    rampCoeff,\n                    rampShift,\n                    sinCoeff,\n                    sinFreq,\n                    sinPhase,\n                    sinShift\n                },\n                roundData: {\n                    currentRound: 0,\n                    demandClient,\n                    producer: [],\n                    distributor: [],\n                    wholesaler: [],\n                    retailer: []\n                }\n            })\n        }\n    }\n\n    function getSelectedRounds(e) {\n        setRounds(e)\n    }\n\n    function getSelectedDemand(e){\n        setSelectedDemand(e.target.value)\n    }\n\n\n    let options = \"\"\n    let differentDemands = \"\"\n    if(selectedGameMode === 1) {\n        differentDemands = (\n        <div>\n        <span>Choisissez les paramètres de la demande: (ignorer si non concerné)</span>\n        <InputField name=\"Enter value of constant...\" getValue={setConstDemand} />\n        <br />\n        \n\t    <InputField name=\"Enter minimum value of Random...\" getValue={setMinDemand} />\n\t    <InputField name=\"Enter maximum value of Random...\" getValue={setMaxDemand} />\n        <br />\n\n\t    <InputField name=\"Enter value of the coeff of the ramp...\" getValue={setRampCoeff} />\n\t    <InputField name=\"Enter value of the shift of the ramp...\" getValue={setRampShift} />\n        <br />\n        <span>Ex: 3.3, 0.18, -0.3, 3.7</span>\n    \t<InputField name=\"Enter value of the coeff of the sinus...\" getValue={setSinCoeff} />\n\t    <InputField name=\"Enter value of the frequence of the sinus...\" getValue={setSinFreq} />\n      \t<InputField name=\"Enter value of the phase of the sinus...\" getValue={setSinPhase} />\n\t    <InputField name=\"Enter value of the shift of the sinus...\" getValue={setSinShift} />\n        </div>\n        )\n\n        options = (\n            <div className={\"options_wrapper\"}>\n                <span>Entrez le code de jeu:</span>\n                <InputField\n                    name={\"GameCode\"}\n                    getValue={setGameCode}\n                    description={\"Signes autorisés: A-Z, a-z, 0-9\"}\n                />\n                <span>Choisissez le nombre de tours de jeu:</span>\n                <div>\n                <InputField \n                    name={\"Rounds\"}\n                    getValue={getSelectedRounds}\n                    description={\"Par exemple: 15\"}\n                />\n                </div>\n                \n                <span>Choisissez le stock de départ des joueurs:</span>\n                <InputField \n                    name={\"StartStock\"}\n                    getValue={setStartStock}\n                    description={\"Par exemple: 15\"}\n                    \n                /> \n                <span>Choisissez le délai des joueurs:</span>\n                <InputField \n                    name={\"Délai\"}\n                    getValue={setDelay}\n                    description={\"Par exemple: 1\"}\n                    \n                /> \n\n                <span>Choisissez le type de demande:</span>\n                <div className={\"select_demand\"} onChange={getSelectedDemand}>\n                    <div>\n                        <input id=\"{const}\" type={\"radio\"} name={\"demand\"} value={0} />\n                        <label htmlFor={\"const\"}>Constant</label>\n                        <br />\n                        <input id=\"{rnd}\" type={\"radio\"} name={\"demand\"} value={1} />\n                        <label htmlFor={\"rnd\"}>Random</label>\n                        <br />\n                        <input id=\"{ramp}\" type={\"radio\"} name={\"demand\"} value={2} />\n                        <label htmlFor={\"ramp\"}>Ramp</label>\n                        <br />\n                        <input id=\"{sin}\" type={\"radio\"} name={\"demand\"} value={3} />\n                        <label htmlFor={\"sin\"}>Sinus</label>\n                    </div>\n                    </div>\n                        {differentDemands}\n                \n                <Button onClick={createGame}>Créer un jeu</Button>\n            </div>\n        )\n    }\n    else if(selectedGameMode === 2){\n        options = (\n            <div className={\"options_wrapper\"}>\n                <span>Entrez le code de jeu:</span>\n                <InputField\n                    name={\"GameCode\"}\n                    getValue={setGameCode}\n                    invalid={inputError}\n                    description={\"Signes autorisés: A-Z, a-z, 0-9\"}\n                />\n                {selectRoleMenu ?\n                    <>\n                        <span>Choisissez un rôle:</span>\n                        <div className={\"select_role\"}>\n                            <Tile \n                                name={\"Producer\"}\n                                imgSrc={\"/icons/factory.svg\"}\n                                imgAlt={\"New Game\"}\n                                idKey={1}\n                                getValue={setSelectedRole}\n                                currentSelected={selectedRole}\n                                disabled={disabledRoles[0]}\n                                title=\"Producteur\"\n                            >Producteur</Tile>\n                            <Tile   \n                                name={\"Distributor\"}                            \n                                imgSrc={\"/icons/box.svg\"}\n                                imgAlt={\"New Game\"}\n                                idKey={2}\n                                getValue={setSelectedRole}\n                                currentSelected={selectedRole}\n                                disabled={disabledRoles[1]}\n                                title=\"Distributeur\"\n                            >Distributeur</Tile>\n                            <Tile      \n                                name={\"Wholesaler\"}                       \n                                imgSrc={\"/icons/wholesale.svg\"}\n                                imgAlt={\"New Game\"}\n                                idKey={3}\n                                getValue={setSelectedRole}\n                                currentSelected={selectedRole}\n                                disabled={disabledRoles[2]}\n                                title=\"Grossiste\"\n                            >Grossiste</Tile>\n                            <Tile       \n                                name={\"Retailer\"}                       \n                                imgSrc={\"/icons/shop.svg\"}\n                                imgAlt={\"New Game\"}\n                                idKey={4}\n                                getValue={setSelectedRole}\n                                currentSelected={selectedRole}\n                                disabled={disabledRoles[3]}\n                                title=\"Détaillant\"\n                            >Détaillant</Tile>\n                            <Tile       \n                                name={\"MJ\"}                  \n                                imgSrc={\"/icons/GM.svg\"}\n                                imgAlt={\"New Game\"}\n                                idKey={5}\n                                getValue={setSelectedRole}\n                                currentSelected={selectedRole}\n                                disabled={disabledRoles[4]}\n                            >Maitre du Jeu</Tile>\n                        </div>\n                    </>\n                :\n                    <></>\n                }\n                {selectRoleMenu ?\n                    <Button\n                        onClick={onJoinGameClick}\n                    >\n                        Entrer dans le jeu\n                    </Button>\n                    :\n                    <Button\n                        onClick={onJoinGameClick}\n                    >\n                        Choisissez le rôle de jeu\n                    </Button>\n                }\n            </div>\n        )\n    }\n    else {\n        options = \"\"\n    }\n\n    return (\n        <div className={\"game_select\"}>\n            { redirectComponent }\n            <div className={\"tile_wrapper\"}>\n                <Tile\n                    imgSrc={\"/icons/new.svg\"}\n                    imgAlt={\"New Game\"}\n                    idKey={1}\n                    getValue={setSelectedGameMode}\n                    currentSelected={selectedGameMode}\n                >\n                    Créer un nouveau jeu\n                </Tile>\n                <Tile\n                    imgSrc={\"/icons/people.svg\"}\n                    imgAlt={\"Enter Game\"}\n                    idKey={2}\n                    getValue={setSelectedGameMode}\n                    currentSelected={selectedGameMode}\n                >\n                    Entrez dans le jeu existant\n                </Tile>\n            </div>\n            { options }\n        </div>\n    )\n}\n\nexport default NewGame\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}