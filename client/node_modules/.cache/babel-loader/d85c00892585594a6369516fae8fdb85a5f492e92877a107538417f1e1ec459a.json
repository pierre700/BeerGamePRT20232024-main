{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pierre\\\\Desktop\\\\BeerGame-PRT23-24\\\\client\\\\src\\\\pages\\\\NewGame.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport \"../styles/pages/NewGame.css\";\nimport Tile from \"../components/Tile\";\nimport Button from \"../components/form/Button\";\nimport InputField from \"../components/form/InputField\";\nimport checkIfStringIsValid from \"../lib/checkIfStringIsValid\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction NewGame(props) {\n  _s();\n\n  const socket = props.socketId;\n  const [demandClient] = useState(0);\n  const [selectedGameMode, setSelectedGameMode] = useState(0);\n  const [selectedRole, setSelectedRole] = useState(0);\n  const [gameCode, setGameCode] = useState(\"\");\n  const [rounds, setRounds] = useState(0);\n  const [startStock, setStartStock] = useState(0);\n  const [delay, setDelay] = useState(0);\n  const [selectedDemand, setSelectedDemand] = useState(0);\n  const [constDemand, setConstDemand] = useState(0);\n  const [minDemand, setMinDemand] = useState(0);\n  const [maxDemand, setMaxDemand] = useState(0);\n  const [rampCoeff, setRampCoeff] = useState(0);\n  const [rampShift, setRampShift] = useState(0);\n  const [sinCoeff, setSinCoeff] = useState(0);\n  const [sinFreq, setSinFreq] = useState(0);\n  const [sinPhase, setSinPhase] = useState(0);\n  const [sinShift, setSinShift] = useState(0);\n  const [selectRoleMenu, setSelectRoleMenu] = useState(false);\n  const [disabledRoles, setDisabledRoles] = useState([0, 0, 0, 0]);\n  const [inputError, setInputError] = useState(false);\n  const [redirectComponent, setRedirectComponent] = useState( /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false));\n  useEffect(() => {\n    //Rejoindre le jeu\n    socket.on(\"join_to_game\", data => {\n      console.log(\"Socket called\");\n      if (data.head.err) //S'il y a une erreur lors de son entrée dans le jeu, il sera émis par alerte\n        alert(data.head.errMsg);else //S'il n'y a pas d'erreur, la page du jeu est appelée\n        {\n          console.log(\"Rôle choisi: \" + data.body);\n          localStorage.setItem(\"role\", JSON.stringify(data.body.role));\n          localStorage.setItem(\"room\", JSON.stringify(data.body.room));\n          setRedirectComponent( /*#__PURE__*/_jsxDEV(Redirect, {\n            to: `/game/play/${data.body.room}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 38\n          }, this));\n        }\n    }); //Choisissez le rôle de jeu\n\n    socket.on(\"game_choose_role\", data => {\n      console.log(data);\n      setSelectRoleMenu(true);\n      let tempArray = [];\n      if (data.producer === \"NA\") tempArray.push(false);else tempArray.push(true);\n      if (data.distributor === \"NA\") tempArray.push(false);else tempArray.push(true);\n      if (data.wholesaler === \"NA\") tempArray.push(false);else tempArray.push(true);\n      if (data.retailer === \"NA\") tempArray.push(false);else tempArray.push(true);\n      setDisabledRoles(tempArray);\n      if (data.MJ === \"NA\") tempArray.push(false);else tempArray.push(true);\n      setDisabledRoles(tempArray);\n    }); //créer un jeu\n\n    socket.on(\"game_create\", data => {\n      if (data.head.err) {\n        alert(data.head.errMsg);\n      } else {\n        setSelectedGameMode(2);\n        alert(data.head.message);\n      }\n    }); //Fonctions de nettoyage nécessaires car toutes les prises seraient appelées lors de l'achat sur la page\n\n    return function cleanup() {\n      socket.off(\"join_to_game\");\n      socket.off(\"game_choose_role\");\n      socket.off(\"game_create\");\n    };\n  }, [socket]); //Affirmer le fauteuil\n\n  function onJoinGameClick() {\n    if (checkIfStringIsValid(gameCode)) {\n      if (selectedRole === 0) {\n        console.log(\"Socket submit\");\n        socket.emit(\"join_game\", {\n          gameCode,\n          selectedRole\n        });\n      } else {\n        console.log(\"Socket submit\");\n        socket.emit(\"join_game\", {\n          gameCode,\n          selectedRole\n        });\n      }\n    } else {\n      alert(\"Incorrect \");\n      setInputError(true);\n    } //console.log(gameCode)\n\n  }\n\n  function createGame() {\n    if (!checkIfStringIsValid(gameCode)) {\n      alert(\"Le code de jeu n'est pas correct!\");\n      setInputError(true);\n    } else if (!rounds) {\n      alert(\"Sélectionnez le nombre de tours!\");\n      setInputError(true);\n    } else if (!checkIfStringIsValid(startStock, \"numeric\")) {\n      alert(\"Sélectionnez le nombre de tours!\");\n    }\n    /*else if(!checkIfStringIsValid(roundOfRaise, \"numeric\") || roundOfRaise > rounds || roundOfRaise < 1) {\n        alert(\"Le tour dans lequel la quantité demandée est augmentée doit être une valeur numérique et ne peut pas être inférieur à 1 et supérieur au nombre de tours !\")\n    }*/\n    else {\n      socket.emit(\"game_create\", {\n        gameCode,\n        gameCreated: new Date(),\n        gameSettings: {\n          rounds,\n          startStock,\n          delay,\n          selectedDemand,\n          constDemand,\n          minDemand,\n          maxDemand,\n          rampCoeff,\n          rampShift,\n          sinCoeff,\n          sinFreq,\n          sinPhase,\n          sinShift\n        },\n        roundData: {\n          currentRound: 0,\n          demandClient,\n          producer: [],\n          distributor: [],\n          wholesaler: [],\n          retailer: []\n        }\n      });\n    }\n  }\n\n  function getSelectedRounds(e) {\n    setRounds(e);\n  }\n\n  function getSelectedDemand(e) {\n    setSelectedDemand(e.target.value);\n  }\n\n  let options = \"\";\n  let differentDemands = \"\";\n\n  if (selectedGameMode === 1) {\n    differentDemands = /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Choisissez les param\\xE8tres de la demande: (ignorer si non concern\\xE9)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter value of constant...\",\n        getValue: setConstDemand\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter minimum value of Random...\",\n        getValue: setMinDemand\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter maximum value of Random...\",\n        getValue: setMaxDemand\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter value of the coeff of the ramp...\",\n        getValue: setRampCoeff\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter value of the shift of the ramp...\",\n        getValue: setRampShift\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Ex: 3.3, 0.18, -0.3, 3.7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter value of the coeff of the sinus...\",\n        getValue: setSinCoeff\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter value of the frequence of the sinus...\",\n        getValue: setSinFreq\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter value of the phase of the sinus...\",\n        getValue: setSinPhase\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter value of the shift of the sinus...\",\n        getValue: setSinShift\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }, this);\n    options = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"options_wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Entrez le code de jeu:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"GameCode\",\n        getValue: setGameCode,\n        description: \"Signes autorisés: A-Z, a-z, 0-9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Choisissez le nombre de tours de jeu:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(InputField, {\n          name: \"Rounds\",\n          getValue: getSelectedRounds,\n          description: \"Par exemple: 15\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Choisissez le stock de d\\xE9part des joueurs:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"StartStock\",\n        getValue: setStartStock,\n        description: \"Par exemple: 15\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Choisissez le d\\xE9lai des joueurs:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Délai\",\n        getValue: setDelay,\n        description: \"Par exemple: 1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Choisissez le type de demande:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"select_demand\",\n        onChange: getSelectedDemand,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"{const}\",\n            type: \"radio\",\n            name: \"demand\",\n            value: 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"const\",\n            children: \"Constant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"{rnd}\",\n            type: \"radio\",\n            name: \"demand\",\n            value: 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"rnd\",\n            children: \"Random\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"{ramp}\",\n            type: \"radio\",\n            name: \"demand\",\n            value: 2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"ramp\",\n            children: \"Ramp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"{sin}\",\n            type: \"radio\",\n            name: \"demand\",\n            value: 3\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"sin\",\n            children: \"Sinus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 17\n      }, this), differentDemands, /*#__PURE__*/_jsxDEV(Button, {\n        onClick: createGame,\n        children: \"Cr\\xE9er un jeu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }, this);\n  } else if (selectedGameMode === 2) {\n    options = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"options_wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Entrez le code de jeu:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"GameCode\",\n        getValue: setGameCode,\n        invalid: inputError,\n        description: \"Signes autorisés: A-Z, a-z, 0-9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 17\n      }, this), selectRoleMenu ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Choisissez un r\\xF4le:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"select_role\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"tile\",\n            name: \"producer\",\n            children: [\"imgSrc=\", \"/icons/factory.svg\", \"imgAlt=\", \"New Game\", \"idKey=\", 1, \"getValue=\", setSelectedRole, \"currentSelected=\", selectedRole, \"disabled=\", disabledRoles[0], /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Producteur\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"tile\",\n            name: \"distributor\",\n            children: [\"imgSrc=\", \"/icons/box.svg\", \"imgAlt=\", \"New Game\", \"idKey=\", 2, \"getValue=\", setSelectedRole, \"currentSelected=\", selectedRole, \"disabled=\", disabledRoles[1], /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Distributeur\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"tile\",\n            name: \"wholesaler\",\n            children: [\"imgSrc=\", \"/icons/wholesale.svg\", \"imgAlt=\", \"New Game\", \"idKey=\", 3, \"getValue=\", setSelectedRole, \"currentSelected=\", selectedRole, \"disabled=\", disabledRoles[2], /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Grossiste\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"tile\",\n            name: \"retailer\",\n            children: [\"imgSrc=\", \"/icons/shop.svg\", \"imgAlt=\", \"New Game\", \"idKey=\", 4, \"getValue=\", setSelectedRole, \"currentSelected=\", selectedRole, \"disabled=\", disabledRoles[3], /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"D\\xE9taillant\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"tile\",\n            name: \"MJ\",\n            children: [\"imgSrc=\", \"/icons/GM.svg\", \"imgAlt=\", \"New Game\", \"idKey=\", 5, \"getValue=\", setSelectedRole, \"currentSelected=\", selectedRole, \"disabled=\", disabledRoles[4], /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Maitre du Jeu \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), selectRoleMenu ? /*#__PURE__*/_jsxDEV(Button, {\n        onClick: onJoinGameClick,\n        children: \"Entrer dans le jeu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(Button, {\n        onClick: onJoinGameClick,\n        children: \"Choisissez le r\\xF4le de jeu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 13\n    }, this);\n  } else {\n    options = \"\";\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game_select\",\n    children: [redirectComponent, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tile_wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(Tile, {\n        imgSrc: \"/icons/new.svg\",\n        imgAlt: \"New Game\",\n        idKey: 1,\n        getValue: setSelectedGameMode,\n        currentSelected: selectedGameMode,\n        children: \"Cr\\xE9er un nouveau jeu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Tile, {\n        imgSrc: \"/icons/people.svg\",\n        imgAlt: \"Enter Game\",\n        idKey: 2,\n        getValue: setSelectedGameMode,\n        currentSelected: selectedGameMode,\n        children: \"Entrez dans le jeu existant\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 13\n    }, this), options]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 340,\n    columnNumber: 9\n  }, this);\n}\n\n_s(NewGame, \"WrmI011K34dkzqDETo7uh0/+rIo=\");\n\n_c = NewGame;\nexport default NewGame;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewGame\");","map":{"version":3,"names":["useEffect","useState","Redirect","Tile","Button","InputField","checkIfStringIsValid","NewGame","props","socket","socketId","demandClient","selectedGameMode","setSelectedGameMode","selectedRole","setSelectedRole","gameCode","setGameCode","rounds","setRounds","startStock","setStartStock","delay","setDelay","selectedDemand","setSelectedDemand","constDemand","setConstDemand","minDemand","setMinDemand","maxDemand","setMaxDemand","rampCoeff","setRampCoeff","rampShift","setRampShift","sinCoeff","setSinCoeff","sinFreq","setSinFreq","sinPhase","setSinPhase","sinShift","setSinShift","selectRoleMenu","setSelectRoleMenu","disabledRoles","setDisabledRoles","inputError","setInputError","redirectComponent","setRedirectComponent","on","data","console","log","head","err","alert","errMsg","body","localStorage","setItem","JSON","stringify","role","room","tempArray","producer","push","distributor","wholesaler","retailer","MJ","message","cleanup","off","onJoinGameClick","emit","createGame","gameCreated","Date","gameSettings","roundData","currentRound","getSelectedRounds","e","getSelectedDemand","target","value","options","differentDemands"],"sources":["C:/Users/pierre/Desktop/BeerGame-PRT23-24/client/src/pages/NewGame.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport { Redirect } from \"react-router-dom\"\n\nimport \"../styles/pages/NewGame.css\"\nimport Tile from \"../components/Tile\"\nimport Button from \"../components/form/Button\"\nimport InputField from \"../components/form/InputField\"\nimport checkIfStringIsValid from \"../lib/checkIfStringIsValid\";\n\nfunction NewGame(props) {\n\n    const socket = props.socketId\n\n    const [demandClient, ] = useState(0)\n\n    const [selectedGameMode, setSelectedGameMode] = useState(0)\n    const [selectedRole, setSelectedRole] = useState(0)\n    const [gameCode, setGameCode] = useState(\"\")\n    const [rounds, setRounds] = useState(0)\n    const [startStock, setStartStock]= useState(0)\n    const [delay, setDelay]= useState(0)\n    const [selectedDemand, setSelectedDemand]= useState(0)\n\n    const [constDemand, setConstDemand] = useState(0)\n    const [minDemand, setMinDemand] = useState(0)\n    const [maxDemand, setMaxDemand] = useState(0)\n    const [rampCoeff, setRampCoeff] = useState(0)\n    const [rampShift, setRampShift] = useState(0)\n    const [sinCoeff, setSinCoeff] = useState(0)\n    const [sinFreq, setSinFreq] = useState(0)\n    const [sinPhase, setSinPhase] = useState(0)\n    const [sinShift, setSinShift] = useState(0)\n\n    const [selectRoleMenu, setSelectRoleMenu] = useState(false)\n    const [disabledRoles, setDisabledRoles] = useState([0,0,0,0])\n\n    const [inputError, setInputError] = useState(false)\n\n    const [redirectComponent, setRedirectComponent] = useState(<></>)\n\n    useEffect(() => {\n        //Rejoindre le jeu\n        socket.on(\"join_to_game\", (data) => {\n            console.log(\"Socket called\")\n            if(data.head.err) //S'il y a une erreur lors de son entrée dans le jeu, il sera émis par alerte\n                alert(data.head.errMsg)\n            else //S'il n'y a pas d'erreur, la page du jeu est appelée\n            {\n                console.log(\"Rôle choisi: \" + data.body)\n                localStorage.setItem(\"role\", JSON.stringify(data.body.role))\n                localStorage.setItem(\"room\", JSON.stringify(data.body.room))\n                setRedirectComponent(<Redirect to={`/game/play/${data.body.room}`} />)\n            }\n        })\n        //Choisissez le rôle de jeu\n        socket.on(\"game_choose_role\", data => {\n            console.log(data)\n            setSelectRoleMenu(true)\n            let tempArray = []\n            if(data.producer === \"NA\")\n                tempArray.push(false)\n            else tempArray.push(true)\n            if(data.distributor === \"NA\")\n                tempArray.push(false)\n            else tempArray.push(true)\n            if(data.wholesaler === \"NA\")\n                tempArray.push(false)\n            else tempArray.push(true)\n            if(data.retailer === \"NA\")\n                tempArray.push(false)\n            else tempArray.push(true)\n            setDisabledRoles(tempArray)\n            if(data.MJ === \"NA\")\n                tempArray.push(false)\n            else tempArray.push(true)\n            setDisabledRoles(tempArray)\n            \n        })\n        //créer un jeu\n        socket.on(\"game_create\", data => {\n            if(data.head.err) {\n                alert(data.head.errMsg)\n            }\n            else {\n                setSelectedGameMode(2)\n                alert(data.head.message)\n            }\n        })\n        //Fonctions de nettoyage nécessaires car toutes les prises seraient appelées lors de l'achat sur la page\n        return function cleanup() {\n            socket.off(\"join_to_game\")\n            socket.off(\"game_choose_role\")\n            socket.off(\"game_create\")\n        }\n    }, [socket]) //Affirmer le fauteuil\n\n    function onJoinGameClick() {\n        if(checkIfStringIsValid(gameCode)) {\n            if(selectedRole === 0) {\n                console.log(\"Socket submit\")\n                socket.emit(\"join_game\", {\n                    gameCode,\n                    selectedRole\n                })\n            }\n            else {\n                console.log(\"Socket submit\")\n                socket.emit(\"join_game\", {\n                    gameCode,\n                    selectedRole\n                })\n            }\n        }\n        else {\n            alert(\"Incorrect \")\n            setInputError(true)\n        }\n        //console.log(gameCode)\n    }\n\n    function createGame() {\n        if(!checkIfStringIsValid(gameCode)) {\n            alert(\"Le code de jeu n'est pas correct!\")\n            setInputError(true)\n        }\n        else if(!rounds) {\n            alert(\"Sélectionnez le nombre de tours!\")\n            setInputError(true)\n        }\n        else if(!checkIfStringIsValid(startStock, \"numeric\")) {\n            alert(\"Sélectionnez le nombre de tours!\")\n        }\n        /*else if(!checkIfStringIsValid(roundOfRaise, \"numeric\") || roundOfRaise > rounds || roundOfRaise < 1) {\n            alert(\"Le tour dans lequel la quantité demandée est augmentée doit être une valeur numérique et ne peut pas être inférieur à 1 et supérieur au nombre de tours !\")\n        }*/\n        else {\n            socket.emit(\"game_create\", {\n                gameCode,\n                gameCreated: new Date(),\n                gameSettings: {\n                    \n                    rounds,\n                    startStock,\n                    delay,\n                    selectedDemand,\n                    constDemand,\n                    minDemand,\n                    maxDemand,\n                    rampCoeff,\n                    rampShift,\n                    sinCoeff,\n                    sinFreq,\n                    sinPhase,\n                    sinShift\n                },\n                roundData: {\n                    currentRound: 0,\n                    demandClient,\n                    producer: [],\n                    distributor: [],\n                    wholesaler: [],\n                    retailer: []\n                }\n            })\n        }\n    }\n\n    function getSelectedRounds(e) {\n        setRounds(e)\n    }\n\n    function getSelectedDemand(e){\n        setSelectedDemand(e.target.value)\n    }\n\n\n    let options = \"\"\n    let differentDemands = \"\"\n    if(selectedGameMode === 1) {\n        differentDemands = (\n        <div>\n        <span>Choisissez les paramètres de la demande: (ignorer si non concerné)</span>\n        <InputField name=\"Enter value of constant...\" getValue={setConstDemand} />\n        <br />\n        \n\t    <InputField name=\"Enter minimum value of Random...\" getValue={setMinDemand} />\n\t    <InputField name=\"Enter maximum value of Random...\" getValue={setMaxDemand} />\n        <br />\n\n\t    <InputField name=\"Enter value of the coeff of the ramp...\" getValue={setRampCoeff} />\n\t    <InputField name=\"Enter value of the shift of the ramp...\" getValue={setRampShift} />\n        <br />\n        <span>Ex: 3.3, 0.18, -0.3, 3.7</span>\n    \t<InputField name=\"Enter value of the coeff of the sinus...\" getValue={setSinCoeff} />\n\t    <InputField name=\"Enter value of the frequence of the sinus...\" getValue={setSinFreq} />\n      \t<InputField name=\"Enter value of the phase of the sinus...\" getValue={setSinPhase} />\n\t    <InputField name=\"Enter value of the shift of the sinus...\" getValue={setSinShift} />\n        </div>\n        )\n\n        options = (\n            <div className={\"options_wrapper\"}>\n                <span>Entrez le code de jeu:</span>\n                <InputField\n                    name={\"GameCode\"}\n                    getValue={setGameCode}\n                    description={\"Signes autorisés: A-Z, a-z, 0-9\"}\n                />\n                <span>Choisissez le nombre de tours de jeu:</span>\n                <div>\n                <InputField \n                    name={\"Rounds\"}\n                    getValue={getSelectedRounds}\n                    description={\"Par exemple: 15\"}\n                />\n                </div>\n                \n                <span>Choisissez le stock de départ des joueurs:</span>\n                <InputField \n                    name={\"StartStock\"}\n                    getValue={setStartStock}\n                    description={\"Par exemple: 15\"}\n                    \n                /> \n                <span>Choisissez le délai des joueurs:</span>\n                <InputField \n                    name={\"Délai\"}\n                    getValue={setDelay}\n                    description={\"Par exemple: 1\"}\n                    \n                /> \n\n                <span>Choisissez le type de demande:</span>\n                <div className={\"select_demand\"} onChange={getSelectedDemand}>\n                    <div>\n                        <input id=\"{const}\" type={\"radio\"} name={\"demand\"} value={0} />\n                        <label htmlFor={\"const\"}>Constant</label>\n                        <br />\n                        <input id=\"{rnd}\" type={\"radio\"} name={\"demand\"} value={1} />\n                        <label htmlFor={\"rnd\"}>Random</label>\n                        <br />\n                        <input id=\"{ramp}\" type={\"radio\"} name={\"demand\"} value={2} />\n                        <label htmlFor={\"ramp\"}>Ramp</label>\n                        <br />\n                        <input id=\"{sin}\" type={\"radio\"} name={\"demand\"} value={3} />\n                        <label htmlFor={\"sin\"}>Sinus</label>\n                    </div>\n                    </div>\n                        {differentDemands}\n                \n                <Button onClick={createGame}>Créer un jeu</Button>\n            </div>\n        )\n    }\n    else if(selectedGameMode === 2){\n        options = (\n            <div className={\"options_wrapper\"}>\n                <span>Entrez le code de jeu:</span>\n                <InputField\n                    name={\"GameCode\"}\n                    getValue={setGameCode}\n                    invalid={inputError}\n                    description={\"Signes autorisés: A-Z, a-z, 0-9\"}\n                />\n                {selectRoleMenu ?\n                    <>\n                        <span>Choisissez un rôle:</span>\n                        <div className={\"select_role\"}>\n                            <div class=\"tile\" name=\"producer\" >\n                                imgSrc={\"/icons/factory.svg\"}\n                                imgAlt={\"New Game\"}\n                                idKey={1}\n                                getValue={setSelectedRole}\n                                currentSelected={selectedRole}\n                                disabled={disabledRoles[0]}\n                                <span>Producteur</span>\n                            </div>\n                            <div class=\"tile\" name=\"distributor\" >                           \n                                imgSrc={\"/icons/box.svg\"}\n                                imgAlt={\"New Game\"}\n                                idKey={2}\n                                getValue={setSelectedRole}\n                                currentSelected={selectedRole}\n                                disabled={disabledRoles[1]}\n                                <span>Distributeur</span>\n                            </div>\n                            <div class=\"tile\" name=\"wholesaler\" >                           \n                                imgSrc={\"/icons/wholesale.svg\"}\n                                imgAlt={\"New Game\"}\n                                idKey={3}\n                                getValue={setSelectedRole}\n                                currentSelected={selectedRole}\n                                disabled={disabledRoles[2]}\n                                <span>Grossiste</span>\n                            </div>\n                            <div class=\"tile\" name=\"retailer\" >                           \n                                imgSrc={\"/icons/shop.svg\"}\n                                imgAlt={\"New Game\"}\n                                idKey={4}\n                                getValue={setSelectedRole}\n                                currentSelected={selectedRole}\n                                disabled={disabledRoles[3]}\n                                <span>Détaillant</span>\n                            </div>\n                            <div class=\"tile\" name=\"MJ\" >                          \n                                imgSrc={\"/icons/GM.svg\"}\n                                imgAlt={\"New Game\"}\n                                idKey={5}\n                                getValue={setSelectedRole}\n                                currentSelected={selectedRole}\n                                disabled={disabledRoles[4]}\n                                <span>Maitre du Jeu </span>\n                            </div>\n                        </div>\n                    </>\n                :\n                    <></>\n                }\n                {selectRoleMenu ?\n                    <Button\n                        onClick={onJoinGameClick}\n                    >\n                        Entrer dans le jeu\n                    </Button>\n                    :\n                    <Button\n                        onClick={onJoinGameClick}\n                    >\n                        Choisissez le rôle de jeu\n                    </Button>\n                }\n            </div>\n        )\n    }\n    else {\n        options = \"\"\n    }\n\n    return (\n        <div className={\"game_select\"}>\n            { redirectComponent }\n            <div className={\"tile_wrapper\"}>\n                <Tile\n                    imgSrc={\"/icons/new.svg\"}\n                    imgAlt={\"New Game\"}\n                    idKey={1}\n                    getValue={setSelectedGameMode}\n                    currentSelected={selectedGameMode}\n                >\n                    Créer un nouveau jeu\n                </Tile>\n                <Tile\n                    imgSrc={\"/icons/people.svg\"}\n                    imgAlt={\"Enter Game\"}\n                    idKey={2}\n                    getValue={setSelectedGameMode}\n                    currentSelected={selectedGameMode}\n                >\n                    Entrez dans le jeu existant\n                </Tile>\n            </div>\n            { options }\n        </div>\n    )\n}\n\nexport default NewGame\n"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,QAAT,QAAyB,kBAAzB;AAEA,OAAO,6BAAP;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,OAAOC,oBAAP,MAAiC,6BAAjC;;;;AAEA,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;EAAA;;EAEpB,MAAMC,MAAM,GAAGD,KAAK,CAACE,QAArB;EAEA,MAAM,CAACC,YAAD,IAAmBV,QAAQ,CAAC,CAAD,CAAjC;EAEA,MAAM,CAACW,gBAAD,EAAmBC,mBAAnB,IAA0CZ,QAAQ,CAAC,CAAD,CAAxD;EACA,MAAM,CAACa,YAAD,EAAeC,eAAf,IAAkCd,QAAQ,CAAC,CAAD,CAAhD;EACA,MAAM,CAACe,QAAD,EAAWC,WAAX,IAA0BhB,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACiB,MAAD,EAASC,SAAT,IAAsBlB,QAAQ,CAAC,CAAD,CAApC;EACA,MAAM,CAACmB,UAAD,EAAaC,aAAb,IAA6BpB,QAAQ,CAAC,CAAD,CAA3C;EACA,MAAM,CAACqB,KAAD,EAAQC,QAAR,IAAmBtB,QAAQ,CAAC,CAAD,CAAjC;EACA,MAAM,CAACuB,cAAD,EAAiBC,iBAAjB,IAAqCxB,QAAQ,CAAC,CAAD,CAAnD;EAEA,MAAM,CAACyB,WAAD,EAAcC,cAAd,IAAgC1B,QAAQ,CAAC,CAAD,CAA9C;EACA,MAAM,CAAC2B,SAAD,EAAYC,YAAZ,IAA4B5B,QAAQ,CAAC,CAAD,CAA1C;EACA,MAAM,CAAC6B,SAAD,EAAYC,YAAZ,IAA4B9B,QAAQ,CAAC,CAAD,CAA1C;EACA,MAAM,CAAC+B,SAAD,EAAYC,YAAZ,IAA4BhC,QAAQ,CAAC,CAAD,CAA1C;EACA,MAAM,CAACiC,SAAD,EAAYC,YAAZ,IAA4BlC,QAAQ,CAAC,CAAD,CAA1C;EACA,MAAM,CAACmC,QAAD,EAAWC,WAAX,IAA0BpC,QAAQ,CAAC,CAAD,CAAxC;EACA,MAAM,CAACqC,OAAD,EAAUC,UAAV,IAAwBtC,QAAQ,CAAC,CAAD,CAAtC;EACA,MAAM,CAACuC,QAAD,EAAWC,WAAX,IAA0BxC,QAAQ,CAAC,CAAD,CAAxC;EACA,MAAM,CAACyC,QAAD,EAAWC,WAAX,IAA0B1C,QAAQ,CAAC,CAAD,CAAxC;EAEA,MAAM,CAAC2C,cAAD,EAAiBC,iBAAjB,IAAsC5C,QAAQ,CAAC,KAAD,CAApD;EACA,MAAM,CAAC6C,aAAD,EAAgBC,gBAAhB,IAAoC9C,QAAQ,CAAC,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,CAAD,CAAlD;EAEA,MAAM,CAAC+C,UAAD,EAAaC,aAAb,IAA8BhD,QAAQ,CAAC,KAAD,CAA5C;EAEA,MAAM,CAACiD,iBAAD,EAAoBC,oBAApB,IAA4ClD,QAAQ,eAAC,qCAAD,CAA1D;EAEAD,SAAS,CAAC,MAAM;IACZ;IACAS,MAAM,CAAC2C,EAAP,CAAU,cAAV,EAA2BC,IAAD,IAAU;MAChCC,OAAO,CAACC,GAAR,CAAY,eAAZ;MACA,IAAGF,IAAI,CAACG,IAAL,CAAUC,GAAb,EAAkB;QACdC,KAAK,CAACL,IAAI,CAACG,IAAL,CAAUG,MAAX,CAAL,CADJ,KAEK;QACL;UACIL,OAAO,CAACC,GAAR,CAAY,kBAAkBF,IAAI,CAACO,IAAnC;UACAC,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeX,IAAI,CAACO,IAAL,CAAUK,IAAzB,CAA7B;UACAJ,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeX,IAAI,CAACO,IAAL,CAAUM,IAAzB,CAA7B;UACAf,oBAAoB,eAAC,QAAC,QAAD;YAAU,EAAE,EAAG,cAAaE,IAAI,CAACO,IAAL,CAAUM,IAAK;UAA3C;YAAA;YAAA;YAAA;UAAA,QAAD,CAApB;QACH;IACJ,CAXD,EAFY,CAcZ;;IACAzD,MAAM,CAAC2C,EAAP,CAAU,kBAAV,EAA8BC,IAAI,IAAI;MAClCC,OAAO,CAACC,GAAR,CAAYF,IAAZ;MACAR,iBAAiB,CAAC,IAAD,CAAjB;MACA,IAAIsB,SAAS,GAAG,EAAhB;MACA,IAAGd,IAAI,CAACe,QAAL,KAAkB,IAArB,EACID,SAAS,CAACE,IAAV,CAAe,KAAf,EADJ,KAEKF,SAAS,CAACE,IAAV,CAAe,IAAf;MACL,IAAGhB,IAAI,CAACiB,WAAL,KAAqB,IAAxB,EACIH,SAAS,CAACE,IAAV,CAAe,KAAf,EADJ,KAEKF,SAAS,CAACE,IAAV,CAAe,IAAf;MACL,IAAGhB,IAAI,CAACkB,UAAL,KAAoB,IAAvB,EACIJ,SAAS,CAACE,IAAV,CAAe,KAAf,EADJ,KAEKF,SAAS,CAACE,IAAV,CAAe,IAAf;MACL,IAAGhB,IAAI,CAACmB,QAAL,KAAkB,IAArB,EACIL,SAAS,CAACE,IAAV,CAAe,KAAf,EADJ,KAEKF,SAAS,CAACE,IAAV,CAAe,IAAf;MACLtB,gBAAgB,CAACoB,SAAD,CAAhB;MACA,IAAGd,IAAI,CAACoB,EAAL,KAAY,IAAf,EACIN,SAAS,CAACE,IAAV,CAAe,KAAf,EADJ,KAEKF,SAAS,CAACE,IAAV,CAAe,IAAf;MACLtB,gBAAgB,CAACoB,SAAD,CAAhB;IAEH,CAtBD,EAfY,CAsCZ;;IACA1D,MAAM,CAAC2C,EAAP,CAAU,aAAV,EAAyBC,IAAI,IAAI;MAC7B,IAAGA,IAAI,CAACG,IAAL,CAAUC,GAAb,EAAkB;QACdC,KAAK,CAACL,IAAI,CAACG,IAAL,CAAUG,MAAX,CAAL;MACH,CAFD,MAGK;QACD9C,mBAAmB,CAAC,CAAD,CAAnB;QACA6C,KAAK,CAACL,IAAI,CAACG,IAAL,CAAUkB,OAAX,CAAL;MACH;IACJ,CARD,EAvCY,CAgDZ;;IACA,OAAO,SAASC,OAAT,GAAmB;MACtBlE,MAAM,CAACmE,GAAP,CAAW,cAAX;MACAnE,MAAM,CAACmE,GAAP,CAAW,kBAAX;MACAnE,MAAM,CAACmE,GAAP,CAAW,aAAX;IACH,CAJD;EAKH,CAtDQ,EAsDN,CAACnE,MAAD,CAtDM,CAAT,CA/BoB,CAqFP;;EAEb,SAASoE,eAAT,GAA2B;IACvB,IAAGvE,oBAAoB,CAACU,QAAD,CAAvB,EAAmC;MAC/B,IAAGF,YAAY,KAAK,CAApB,EAAuB;QACnBwC,OAAO,CAACC,GAAR,CAAY,eAAZ;QACA9C,MAAM,CAACqE,IAAP,CAAY,WAAZ,EAAyB;UACrB9D,QADqB;UAErBF;QAFqB,CAAzB;MAIH,CAND,MAOK;QACDwC,OAAO,CAACC,GAAR,CAAY,eAAZ;QACA9C,MAAM,CAACqE,IAAP,CAAY,WAAZ,EAAyB;UACrB9D,QADqB;UAErBF;QAFqB,CAAzB;MAIH;IACJ,CAfD,MAgBK;MACD4C,KAAK,CAAC,YAAD,CAAL;MACAT,aAAa,CAAC,IAAD,CAAb;IACH,CApBsB,CAqBvB;;EACH;;EAED,SAAS8B,UAAT,GAAsB;IAClB,IAAG,CAACzE,oBAAoB,CAACU,QAAD,CAAxB,EAAoC;MAChC0C,KAAK,CAAC,mCAAD,CAAL;MACAT,aAAa,CAAC,IAAD,CAAb;IACH,CAHD,MAIK,IAAG,CAAC/B,MAAJ,EAAY;MACbwC,KAAK,CAAC,kCAAD,CAAL;MACAT,aAAa,CAAC,IAAD,CAAb;IACH,CAHI,MAIA,IAAG,CAAC3C,oBAAoB,CAACc,UAAD,EAAa,SAAb,CAAxB,EAAiD;MAClDsC,KAAK,CAAC,kCAAD,CAAL;IACH;IACD;AACR;AACA;IALa,KAMA;MACDjD,MAAM,CAACqE,IAAP,CAAY,aAAZ,EAA2B;QACvB9D,QADuB;QAEvBgE,WAAW,EAAE,IAAIC,IAAJ,EAFU;QAGvBC,YAAY,EAAE;UAEVhE,MAFU;UAGVE,UAHU;UAIVE,KAJU;UAKVE,cALU;UAMVE,WANU;UAOVE,SAPU;UAQVE,SARU;UASVE,SATU;UAUVE,SAVU;UAWVE,QAXU;UAYVE,OAZU;UAaVE,QAbU;UAcVE;QAdU,CAHS;QAmBvByC,SAAS,EAAE;UACPC,YAAY,EAAE,CADP;UAEPzE,YAFO;UAGPyD,QAAQ,EAAE,EAHH;UAIPE,WAAW,EAAE,EAJN;UAKPC,UAAU,EAAE,EALL;UAMPC,QAAQ,EAAE;QANH;MAnBY,CAA3B;IA4BH;EACJ;;EAED,SAASa,iBAAT,CAA2BC,CAA3B,EAA8B;IAC1BnE,SAAS,CAACmE,CAAD,CAAT;EACH;;EAED,SAASC,iBAAT,CAA2BD,CAA3B,EAA6B;IACzB7D,iBAAiB,CAAC6D,CAAC,CAACE,MAAF,CAASC,KAAV,CAAjB;EACH;;EAGD,IAAIC,OAAO,GAAG,EAAd;EACA,IAAIC,gBAAgB,GAAG,EAAvB;;EACA,IAAG/E,gBAAgB,KAAK,CAAxB,EAA2B;IACvB+E,gBAAgB,gBAChB;MAAA,wBACA;QAAA,UAAM;MAAN;QAAA;QAAA;QAAA;MAAA,QADA,eAEA,QAAC,UAAD;QAAY,IAAI,EAAC,4BAAjB;QAA8C,QAAQ,EAAEhE;MAAxD;QAAA;QAAA;QAAA;MAAA,QAFA,eAGA;QAAA;QAAA;QAAA;MAAA,QAHA,eAKH,QAAC,UAAD;QAAY,IAAI,EAAC,kCAAjB;QAAoD,QAAQ,EAAEE;MAA9D;QAAA;QAAA;QAAA;MAAA,QALG,eAMH,QAAC,UAAD;QAAY,IAAI,EAAC,kCAAjB;QAAoD,QAAQ,EAAEE;MAA9D;QAAA;QAAA;QAAA;MAAA,QANG,eAOA;QAAA;QAAA;QAAA;MAAA,QAPA,eASH,QAAC,UAAD;QAAY,IAAI,EAAC,yCAAjB;QAA2D,QAAQ,EAAEE;MAArE;QAAA;QAAA;QAAA;MAAA,QATG,eAUH,QAAC,UAAD;QAAY,IAAI,EAAC,yCAAjB;QAA2D,QAAQ,EAAEE;MAArE;QAAA;QAAA;QAAA;MAAA,QAVG,eAWA;QAAA;QAAA;QAAA;MAAA,QAXA,eAYA;QAAA,UAAM;MAAN;QAAA;QAAA;QAAA;MAAA,QAZA,eAaH,QAAC,UAAD;QAAY,IAAI,EAAC,0CAAjB;QAA4D,QAAQ,EAAEE;MAAtE;QAAA;QAAA;QAAA;MAAA,QAbG,eAcH,QAAC,UAAD;QAAY,IAAI,EAAC,8CAAjB;QAAgE,QAAQ,EAAEE;MAA1E;QAAA;QAAA;QAAA;MAAA,QAdG,eAeD,QAAC,UAAD;QAAY,IAAI,EAAC,0CAAjB;QAA4D,QAAQ,EAAEE;MAAtE;QAAA;QAAA;QAAA;MAAA,QAfC,eAgBH,QAAC,UAAD;QAAY,IAAI,EAAC,0CAAjB;QAA4D,QAAQ,EAAEE;MAAtE;QAAA;QAAA;QAAA;MAAA,QAhBG;IAAA;MAAA;MAAA;MAAA;IAAA,QADA;IAqBA+C,OAAO,gBACH;MAAK,SAAS,EAAE,iBAAhB;MAAA,wBACI;QAAA,UAAM;MAAN;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI,QAAC,UAAD;QACI,IAAI,EAAE,UADV;QAEI,QAAQ,EAAEzE,WAFd;QAGI,WAAW,EAAE;MAHjB;QAAA;QAAA;QAAA;MAAA,QAFJ,eAOI;QAAA,UAAM;MAAN;QAAA;QAAA;QAAA;MAAA,QAPJ,eAQI;QAAA,uBACA,QAAC,UAAD;UACI,IAAI,EAAE,QADV;UAEI,QAAQ,EAAEoE,iBAFd;UAGI,WAAW,EAAE;QAHjB;UAAA;UAAA;UAAA;QAAA;MADA;QAAA;QAAA;QAAA;MAAA,QARJ,eAgBI;QAAA,UAAM;MAAN;QAAA;QAAA;QAAA;MAAA,QAhBJ,eAiBI,QAAC,UAAD;QACI,IAAI,EAAE,YADV;QAEI,QAAQ,EAAEhE,aAFd;QAGI,WAAW,EAAE;MAHjB;QAAA;QAAA;QAAA;MAAA,QAjBJ,eAuBI;QAAA,UAAM;MAAN;QAAA;QAAA;QAAA;MAAA,QAvBJ,eAwBI,QAAC,UAAD;QACI,IAAI,EAAE,OADV;QAEI,QAAQ,EAAEE,QAFd;QAGI,WAAW,EAAE;MAHjB;QAAA;QAAA;QAAA;MAAA,QAxBJ,eA+BI;QAAA,UAAM;MAAN;QAAA;QAAA;QAAA;MAAA,QA/BJ,eAgCI;QAAK,SAAS,EAAE,eAAhB;QAAiC,QAAQ,EAAEgE,iBAA3C;QAAA,uBACI;UAAA,wBACI;YAAO,EAAE,EAAC,SAAV;YAAoB,IAAI,EAAE,OAA1B;YAAmC,IAAI,EAAE,QAAzC;YAAmD,KAAK,EAAE;UAA1D;YAAA;YAAA;YAAA;UAAA,QADJ,eAEI;YAAO,OAAO,EAAE,OAAhB;YAAA,UAAyB;UAAzB;YAAA;YAAA;YAAA;UAAA,QAFJ,eAGI;YAAA;YAAA;YAAA;UAAA,QAHJ,eAII;YAAO,EAAE,EAAC,OAAV;YAAkB,IAAI,EAAE,OAAxB;YAAiC,IAAI,EAAE,QAAvC;YAAiD,KAAK,EAAE;UAAxD;YAAA;YAAA;YAAA;UAAA,QAJJ,eAKI;YAAO,OAAO,EAAE,KAAhB;YAAA,UAAuB;UAAvB;YAAA;YAAA;YAAA;UAAA,QALJ,eAMI;YAAA;YAAA;YAAA;UAAA,QANJ,eAOI;YAAO,EAAE,EAAC,QAAV;YAAmB,IAAI,EAAE,OAAzB;YAAkC,IAAI,EAAE,QAAxC;YAAkD,KAAK,EAAE;UAAzD;YAAA;YAAA;YAAA;UAAA,QAPJ,eAQI;YAAO,OAAO,EAAE,MAAhB;YAAA,UAAwB;UAAxB;YAAA;YAAA;YAAA;UAAA,QARJ,eASI;YAAA;YAAA;YAAA;UAAA,QATJ,eAUI;YAAO,EAAE,EAAC,OAAV;YAAkB,IAAI,EAAE,OAAxB;YAAiC,IAAI,EAAE,QAAvC;YAAiD,KAAK,EAAE;UAAxD;YAAA;YAAA;YAAA;UAAA,QAVJ,eAWI;YAAO,OAAO,EAAE,KAAhB;YAAA,UAAuB;UAAvB;YAAA;YAAA;YAAA;UAAA,QAXJ;QAAA;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QAhCJ,EA+CaI,gBA/Cb,eAiDI,QAAC,MAAD;QAAQ,OAAO,EAAEZ,UAAjB;QAAA,UAA6B;MAA7B;QAAA;QAAA;QAAA;MAAA,QAjDJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ;EAqDH,CA3ED,MA4EK,IAAGnE,gBAAgB,KAAK,CAAxB,EAA0B;IAC3B8E,OAAO,gBACH;MAAK,SAAS,EAAE,iBAAhB;MAAA,wBACI;QAAA,UAAM;MAAN;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI,QAAC,UAAD;QACI,IAAI,EAAE,UADV;QAEI,QAAQ,EAAEzE,WAFd;QAGI,OAAO,EAAE+B,UAHb;QAII,WAAW,EAAE;MAJjB;QAAA;QAAA;QAAA;MAAA,QAFJ,EAQKJ,cAAc,gBACX;QAAA,wBACI;UAAA,UAAM;QAAN;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI;UAAK,SAAS,EAAE,aAAhB;UAAA,wBACI;YAAK,KAAK,EAAC,MAAX;YAAkB,IAAI,EAAC,UAAvB;YAAA,WAAmC,SAAnC,EACY,oBADZ,EACiC,SADjC,EAEY,UAFZ,EAEuB,QAFvB,EAGW,CAHX,EAGa,WAHb,EAIc7B,eAJd,EAI8B,kBAJ9B,EAKqBD,YALrB,EAKkC,WALlC,EAMcgC,aAAa,CAAC,CAAD,CAN3B,eAOI;cAAA,UAAM;YAAN;cAAA;cAAA;cAAA;YAAA,QAPJ;UAAA;YAAA;YAAA;YAAA;UAAA,QADJ,eAUI;YAAK,KAAK,EAAC,MAAX;YAAkB,IAAI,EAAC,aAAvB;YAAA,WAAsC,SAAtC,EACY,gBADZ,EAC6B,SAD7B,EAEY,UAFZ,EAEuB,QAFvB,EAGW,CAHX,EAGa,WAHb,EAIc/B,eAJd,EAI8B,kBAJ9B,EAKqBD,YALrB,EAKkC,WALlC,EAMcgC,aAAa,CAAC,CAAD,CAN3B,eAOI;cAAA,UAAM;YAAN;cAAA;cAAA;cAAA;YAAA,QAPJ;UAAA;YAAA;YAAA;YAAA;UAAA,QAVJ,eAmBI;YAAK,KAAK,EAAC,MAAX;YAAkB,IAAI,EAAC,YAAvB;YAAA,WAAqC,SAArC,EACY,sBADZ,EACmC,SADnC,EAEY,UAFZ,EAEuB,QAFvB,EAGW,CAHX,EAGa,WAHb,EAIc/B,eAJd,EAI8B,kBAJ9B,EAKqBD,YALrB,EAKkC,WALlC,EAMcgC,aAAa,CAAC,CAAD,CAN3B,eAOI;cAAA,UAAM;YAAN;cAAA;cAAA;cAAA;YAAA,QAPJ;UAAA;YAAA;YAAA;YAAA;UAAA,QAnBJ,eA4BI;YAAK,KAAK,EAAC,MAAX;YAAkB,IAAI,EAAC,UAAvB;YAAA,WAAmC,SAAnC,EACY,iBADZ,EAC8B,SAD9B,EAEY,UAFZ,EAEuB,QAFvB,EAGW,CAHX,EAGa,WAHb,EAIc/B,eAJd,EAI8B,kBAJ9B,EAKqBD,YALrB,EAKkC,WALlC,EAMcgC,aAAa,CAAC,CAAD,CAN3B,eAOI;cAAA,UAAM;YAAN;cAAA;cAAA;cAAA;YAAA,QAPJ;UAAA;YAAA;YAAA;YAAA;UAAA,QA5BJ,eAqCI;YAAK,KAAK,EAAC,MAAX;YAAkB,IAAI,EAAC,IAAvB;YAAA,WAA6B,SAA7B,EACY,eADZ,EAC4B,SAD5B,EAEY,UAFZ,EAEuB,QAFvB,EAGW,CAHX,EAGa,WAHb,EAIc/B,eAJd,EAI8B,kBAJ9B,EAKqBD,YALrB,EAKkC,WALlC,EAMcgC,aAAa,CAAC,CAAD,CAN3B,eAOI;cAAA,UAAM;YAAN;cAAA;cAAA;cAAA;YAAA,QAPJ;UAAA;YAAA;YAAA;YAAA;UAAA,QArCJ;QAAA;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA,gBADW,gBAoDX,qCA5DR,EA8DKF,cAAc,gBACX,QAAC,MAAD;QACI,OAAO,EAAEiC,eADb;QAAA,UAEC;MAFD;QAAA;QAAA;QAAA;MAAA,QADW,gBAOX,QAAC,MAAD;QACI,OAAO,EAAEA,eADb;QAAA,UAEC;MAFD;QAAA;QAAA;QAAA;MAAA,QArER;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ;EA8EH,CA/EI,MAgFA;IACDa,OAAO,GAAG,EAAV;EACH;;EAED,oBACI;IAAK,SAAS,EAAE,aAAhB;IAAA,WACMxC,iBADN,eAEI;MAAK,SAAS,EAAE,cAAhB;MAAA,wBACI,QAAC,IAAD;QACI,MAAM,EAAE,gBADZ;QAEI,MAAM,EAAE,UAFZ;QAGI,KAAK,EAAE,CAHX;QAII,QAAQ,EAAErC,mBAJd;QAKI,eAAe,EAAED,gBALrB;QAAA,UAMC;MAND;QAAA;QAAA;QAAA;MAAA,QADJ,eAUI,QAAC,IAAD;QACI,MAAM,EAAE,mBADZ;QAEI,MAAM,EAAE,YAFZ;QAGI,KAAK,EAAE,CAHX;QAII,QAAQ,EAAEC,mBAJd;QAKI,eAAe,EAAED,gBALrB;QAAA,UAMC;MAND;QAAA;QAAA;QAAA;MAAA,QAVJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAFJ,EAsBM8E,OAtBN;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AA0BH;;GAnWQnF,O;;KAAAA,O;AAqWT,eAAeA,OAAf"},"metadata":{},"sourceType":"module","externalDependencies":[]}