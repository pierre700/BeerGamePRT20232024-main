{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pierre\\\\Desktop\\\\BeerGame-master (kenji)\\\\client\\\\src\\\\pages\\\\NewGame.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport \"../styles/pages/NewGame.css\";\nimport Tile from \"../components/Tile\";\nimport Button from \"../components/form/Button\";\nimport InputField from \"../components/form/InputField\";\nimport checkIfStringIsValid from \"../lib/checkIfStringIsValid\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction NewGame(props) {\n  _s();\n\n  const socket = props.socketId;\n  const [demandClient] = useState(0);\n  const [selectedGameMode, setSelectedGameMode] = useState(0);\n  const [selectedRole, setSelectedRole] = useState(0);\n  const [gameCode, setGameCode] = useState(\"\");\n  const [rounds, setRounds] = useState(0);\n  const [startStock, setStartStock] = useState(0);\n  const [selectedDemand, setSelectedDemand] = useState(0);\n  const [constDemand, setConstDemand] = useState(0);\n  const [minDemand, setMinDemand] = useState(0);\n  const [maxDemand, setMaxDemand] = useState(0);\n  const [rampCoeff, setRampCoeff] = useState(0);\n  const [rampShift, setRampShift] = useState(0);\n  const [sinCoeff, setSinCoeff] = useState(0);\n  const [sinFreq, setSinFreq] = useState(0);\n  const [sinPhase, setSinPhase] = useState(0);\n  const [sinShift, setSinShift] = useState(0);\n  const [selectRoleMenu, setSelectRoleMenu] = useState(false);\n  const [disabledRoles, setDisabledRoles] = useState([0, 0, 0, 0]);\n  const [inputError, setInputError] = useState(false);\n  const [redirectComponent, setRedirectComponent] = useState( /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false));\n  useEffect(() => {\n    //Rejoindre le jeu\n    socket.on(\"join_to_game\", data => {\n      console.log(\"Socket called\");\n      if (data.head.err) //S'il y a une erreur lors de son entrée dans le jeu, il sera émis par alerte\n        alert(data.head.errMsg);else //S'il n'y a pas d'erreur, la page du jeu est appelée\n        {\n          console.log(\"Rôle choisi: \" + data.body);\n          localStorage.setItem(\"role\", JSON.stringify(data.body.role));\n          localStorage.setItem(\"room\", JSON.stringify(data.body.room));\n          setRedirectComponent( /*#__PURE__*/_jsxDEV(Redirect, {\n            to: `/game/play/${data.body.room}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 38\n          }, this));\n        }\n    }); //Choisissez le rôle de jeu\n\n    socket.on(\"game_choose_role\", data => {\n      console.log(data);\n      setSelectRoleMenu(true);\n      let tempArray = [];\n      if (data.producer === \"NA\") tempArray.push(false);else tempArray.push(true);\n      if (data.distributor === \"NA\") tempArray.push(false);else tempArray.push(true);\n      if (data.wholesaler === \"NA\") tempArray.push(false);else tempArray.push(true);\n      if (data.retailer === \"NA\") tempArray.push(false);else tempArray.push(true);\n      setDisabledRoles(tempArray);\n    }); //créer un jeu\n\n    socket.on(\"game_create\", data => {\n      if (data.head.err) {\n        alert(data.head.errMsg);\n      } else {\n        setSelectedGameMode(2);\n        alert(data.head.message);\n      }\n    }); //Fonctions de nettoyage nécessaires car toutes les prises seraient appelées lors de l'achat sur la page\n\n    return function cleanup() {\n      socket.off(\"join_to_game\");\n      socket.off(\"game_choose_role\");\n      socket.off(\"game_create\");\n    };\n  }, [socket]); //Affirmer le fauteuil\n\n  function onJoinGameClick() {\n    if (checkIfStringIsValid(gameCode)) {\n      if (selectedRole === 0) {\n        console.log(\"Socket submit\");\n        socket.emit(\"join_game\", {\n          gameCode,\n          selectedRole\n        });\n      } else {\n        console.log(\"Socket submit\");\n        socket.emit(\"join_game\", {\n          gameCode,\n          selectedRole\n        });\n      }\n    } else {\n      alert(\"Incorrect \");\n      setInputError(true);\n    } //console.log(gameCode)\n\n  }\n\n  function createGame() {\n    if (!checkIfStringIsValid(gameCode)) {\n      alert(\"Le code de jeu n'est pas correct!\");\n      setInputError(true);\n    } else if (!rounds) {\n      alert(\"Sélectionnez le nombre de tours!\");\n      setInputError(true);\n    } else if (!checkIfStringIsValid(startStock, \"numeric\")) {\n      alert(\"Sélectionnez le nombre de tours!\");\n    }\n    /*else if(!checkIfStringIsValid(roundOfRaise, \"numeric\") || roundOfRaise > rounds || roundOfRaise < 1) {\n        alert(\"Le tour dans lequel la quantité demandée est augmentée doit être une valeur numérique et ne peut pas être inférieur à 1 et supérieur au nombre de tours !\")\n    }*/\n    else {\n      socket.emit(\"game_create\", {\n        gameCode,\n        gameCreated: new Date(),\n        gameSettings: {\n          rounds,\n          startStock,\n          selectedDemand,\n          constDemand,\n          minDemand,\n          maxDemand,\n          rampCoeff,\n          rampShift,\n          sinCoeff,\n          sinFreq,\n          sinPhase,\n          sinShift\n        },\n        roundData: {\n          currentRound: 0,\n          demandClient,\n          producer: [],\n          distributor: [],\n          wholesaler: [],\n          retailer: []\n        }\n      });\n    }\n  }\n\n  function getSelectedRounds(e) {\n    setRounds(e);\n  }\n\n  const getStorageCost = value => {\n    setStorageCost(parseFloat(value));\n  };\n\n  const getRuptureCost = value => {\n    setRuptureCost(parseFloat(value));\n  };\n\n  function getSelectedDemand(e) {\n    setSelectedDemand(e.target.value);\n  }\n\n  let options = \"\";\n  let differentDemands = \"\";\n\n  if (selectedGameMode === 1) {\n    differentDemands = /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Choisissez les param\\xE8tres de la demande: (ignorer si non concern\\xE9)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter value of constant...\",\n        getValue: setConstDemand\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter minimum value of Random...\",\n        getValue: setMinDemand\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter maximum value of Random...\",\n        getValue: setMaxDemand\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter value of the coeff of the ramp...\",\n        getValue: setRampCoeff\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter value of the shift of the ramp...\",\n        getValue: setRampShift\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Ex: 3.3, 0.18, -0.3, 3.7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter value of the coeff of the sinus...\",\n        getValue: setSinCoeff\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter value of the frequence of the sinus...\",\n        getValue: setSinFreq\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter value of the phase of the sinus...\",\n        getValue: setSinPhase\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"Enter value of the shift of the sinus...\",\n        getValue: setSinShift\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }, this);\n    options = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"options_wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Entrez le code de jeu:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"GameCode\",\n        getValue: setGameCode,\n        description: \"Signes autorisés: A-Z, a-z, 0-9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Choisissez le nombre de tours de jeu:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(InputField, {\n          name: \"Rounds\",\n          getValue: getSelectedRounds,\n          description: \"Par exemple: 15\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Choisissez le stock de d\\xE9part des joueurs:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"StartStock\",\n        getValue: setStartStock,\n        description: \"Par exemple: 15\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Co\\xFBt de stockage:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"StorageCost\",\n        getValue: getStorageCost,\n        description: \"Par exemple: 10\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Co\\xFBt de rupture:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"RuptureCost\",\n        getValue: getRuptureCost,\n        description: \"Par exemple: 5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Choisissez le type de demande:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"select_demand\",\n        onChange: getSelectedDemand,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"{const}\",\n            type: \"radio\",\n            name: \"demand\",\n            value: 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"const\",\n            children: \"Constant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"{rnd}\",\n            type: \"radio\",\n            name: \"demand\",\n            value: 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"rnd\",\n            children: \"Random\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"{ramp}\",\n            type: \"radio\",\n            name: \"demand\",\n            value: 2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"ramp\",\n            children: \"Ramp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"{sin}\",\n            type: \"radio\",\n            name: \"demand\",\n            value: 3\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"sin\",\n            children: \"Sinus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 17\n      }, this), differentDemands, /*#__PURE__*/_jsxDEV(Button, {\n        onClick: createGame,\n        children: \"Cr\\xE9er un jeu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }, this);\n  } else if (selectedGameMode === 2) {\n    options = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"options_wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Entrez le code de jeu:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"GameCode\",\n        getValue: setGameCode,\n        invalid: inputError,\n        description: \"Signes autorisés: A-Z, a-z, 0-9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }, this), selectRoleMenu ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Choisissez un r\\xF4le:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"select_role\",\n          children: [/*#__PURE__*/_jsxDEV(Tile, {\n            imgSrc: \"/icons/factory.svg\",\n            imgAlt: \"New Game\",\n            idKey: 1,\n            getValue: setSelectedRole,\n            currentSelected: selectedRole,\n            disabled: disabledRoles[0],\n            children: \"Producteur\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Tile, {\n            imgSrc: \"/icons/box.svg\",\n            imgAlt: \"New Game\",\n            idKey: 2,\n            getValue: setSelectedRole,\n            currentSelected: selectedRole,\n            disabled: disabledRoles[1],\n            children: \"Distributeur\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Tile, {\n            imgSrc: \"/icons/wholesale.svg\",\n            imgAlt: \"New Game\",\n            idKey: 3,\n            getValue: setSelectedRole,\n            currentSelected: selectedRole,\n            disabled: disabledRoles[2],\n            children: \"Grossiste\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Tile, {\n            imgSrc: \"/icons/shop.svg\",\n            imgAlt: \"New Game\",\n            idKey: 4,\n            getValue: setSelectedRole,\n            currentSelected: selectedRole,\n            disabled: disabledRoles[3],\n            children: \"D\\xE9taillant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Tile, {\n            imgSrc: \"/icons/GM.svg\",\n            imgAlt: \"New Game\",\n            idKey: 5,\n            getValue: setSelectedRole,\n            currentSelected: selectedRole,\n            disabled: disabledRoles[4],\n            children: \"Maitre du Jeu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), selectRoleMenu ? /*#__PURE__*/_jsxDEV(Button, {\n        onClick: onJoinGameClick,\n        children: \"Entrer dans le jeu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(Button, {\n        onClick: onJoinGameClick,\n        children: \"Choisissez le r\\xF4le de jeu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 13\n    }, this);\n  } else {\n    options = \"\";\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game_select\",\n    children: [redirectComponent, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tile_wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(Tile, {\n        imgSrc: \"/icons/new.svg\",\n        imgAlt: \"New Game\",\n        idKey: 1,\n        getValue: setSelectedGameMode,\n        currentSelected: selectedGameMode,\n        children: \"Cr\\xE9er un nouveau jeu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Tile, {\n        imgSrc: \"/icons/people.svg\",\n        imgAlt: \"Enter Game\",\n        idKey: 2,\n        getValue: setSelectedGameMode,\n        currentSelected: selectedGameMode,\n        children: \"Entrez dans le jeu existant\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 13\n    }, this), options]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 341,\n    columnNumber: 9\n  }, this);\n}\n\n_s(NewGame, \"PyadV1OyV/6ekSo8m6p1IErQnFg=\");\n\n_c = NewGame;\nexport default NewGame;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewGame\");","map":{"version":3,"names":["useEffect","useState","Redirect","Tile","Button","InputField","checkIfStringIsValid","NewGame","props","socket","socketId","demandClient","selectedGameMode","setSelectedGameMode","selectedRole","setSelectedRole","gameCode","setGameCode","rounds","setRounds","startStock","setStartStock","selectedDemand","setSelectedDemand","constDemand","setConstDemand","minDemand","setMinDemand","maxDemand","setMaxDemand","rampCoeff","setRampCoeff","rampShift","setRampShift","sinCoeff","setSinCoeff","sinFreq","setSinFreq","sinPhase","setSinPhase","sinShift","setSinShift","selectRoleMenu","setSelectRoleMenu","disabledRoles","setDisabledRoles","inputError","setInputError","redirectComponent","setRedirectComponent","on","data","console","log","head","err","alert","errMsg","body","localStorage","setItem","JSON","stringify","role","room","tempArray","producer","push","distributor","wholesaler","retailer","message","cleanup","off","onJoinGameClick","emit","createGame","gameCreated","Date","gameSettings","roundData","currentRound","getSelectedRounds","e","getStorageCost","value","setStorageCost","parseFloat","getRuptureCost","setRuptureCost","getSelectedDemand","target","options","differentDemands"],"sources":["C:/Users/pierre/Desktop/BeerGame-master (kenji)/client/src/pages/NewGame.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport { Redirect } from \"react-router-dom\"\n\nimport \"../styles/pages/NewGame.css\"\nimport Tile from \"../components/Tile\"\nimport Button from \"../components/form/Button\"\nimport InputField from \"../components/form/InputField\"\nimport checkIfStringIsValid from \"../lib/checkIfStringIsValid\";\n\nfunction NewGame(props) {\n\n    const socket = props.socketId\n\n    const [demandClient, ] = useState(0)\n\n    const [selectedGameMode, setSelectedGameMode] = useState(0)\n    const [selectedRole, setSelectedRole] = useState(0)\n    const [gameCode, setGameCode] = useState(\"\")\n    const [rounds, setRounds] = useState(0)\n    const [startStock, setStartStock]= useState(0)\n    const [selectedDemand, setSelectedDemand]= useState(0)\n\n    const [constDemand, setConstDemand] = useState(0)\n    const [minDemand, setMinDemand] = useState(0)\n    const [maxDemand, setMaxDemand] = useState(0)\n    const [rampCoeff, setRampCoeff] = useState(0)\n    const [rampShift, setRampShift] = useState(0)\n    const [sinCoeff, setSinCoeff] = useState(0)\n    const [sinFreq, setSinFreq] = useState(0)\n    const [sinPhase, setSinPhase] = useState(0)\n    const [sinShift, setSinShift] = useState(0)\n\n    const [selectRoleMenu, setSelectRoleMenu] = useState(false)\n    const [disabledRoles, setDisabledRoles] = useState([0,0,0,0])\n\n    const [inputError, setInputError] = useState(false)\n\n    const [redirectComponent, setRedirectComponent] = useState(<></>)\n\n    useEffect(() => {\n        //Rejoindre le jeu\n        socket.on(\"join_to_game\", (data) => {\n            console.log(\"Socket called\")\n            if(data.head.err) //S'il y a une erreur lors de son entrée dans le jeu, il sera émis par alerte\n                alert(data.head.errMsg)\n            else //S'il n'y a pas d'erreur, la page du jeu est appelée\n            {\n                console.log(\"Rôle choisi: \" + data.body)\n                localStorage.setItem(\"role\", JSON.stringify(data.body.role))\n                localStorage.setItem(\"room\", JSON.stringify(data.body.room))\n                setRedirectComponent(<Redirect to={`/game/play/${data.body.room}`} />)\n            }\n        })\n        //Choisissez le rôle de jeu\n        socket.on(\"game_choose_role\", data => {\n            console.log(data)\n            setSelectRoleMenu(true)\n            let tempArray = []\n            if(data.producer === \"NA\")\n                tempArray.push(false)\n            else tempArray.push(true)\n            if(data.distributor === \"NA\")\n                tempArray.push(false)\n            else tempArray.push(true)\n            if(data.wholesaler === \"NA\")\n                tempArray.push(false)\n            else tempArray.push(true)\n            if(data.retailer === \"NA\")\n                tempArray.push(false)\n            else tempArray.push(true)\n            setDisabledRoles(tempArray)\n        })\n        //créer un jeu\n        socket.on(\"game_create\", data => {\n            if(data.head.err) {\n                alert(data.head.errMsg)\n            }\n            else {\n                setSelectedGameMode(2)\n                alert(data.head.message)\n            }\n        })\n        //Fonctions de nettoyage nécessaires car toutes les prises seraient appelées lors de l'achat sur la page\n        return function cleanup() {\n            socket.off(\"join_to_game\")\n            socket.off(\"game_choose_role\")\n            socket.off(\"game_create\")\n        }\n    }, [socket]) //Affirmer le fauteuil\n\n    function onJoinGameClick() {\n        if(checkIfStringIsValid(gameCode)) {\n            if(selectedRole === 0) {\n                console.log(\"Socket submit\")\n                socket.emit(\"join_game\", {\n                    gameCode,\n                    selectedRole\n                })\n            }\n            else {\n                console.log(\"Socket submit\")\n                socket.emit(\"join_game\", {\n                    gameCode,\n                    selectedRole\n                })\n            }\n        }\n        else {\n            alert(\"Incorrect \")\n            setInputError(true)\n        }\n        //console.log(gameCode)\n    }\n\n    function createGame() {\n        if(!checkIfStringIsValid(gameCode)) {\n            alert(\"Le code de jeu n'est pas correct!\")\n            setInputError(true)\n        }\n        else if(!rounds) {\n            alert(\"Sélectionnez le nombre de tours!\")\n            setInputError(true)\n        }\n        else if(!checkIfStringIsValid(startStock, \"numeric\")) {\n            alert(\"Sélectionnez le nombre de tours!\")\n        }\n        /*else if(!checkIfStringIsValid(roundOfRaise, \"numeric\") || roundOfRaise > rounds || roundOfRaise < 1) {\n            alert(\"Le tour dans lequel la quantité demandée est augmentée doit être une valeur numérique et ne peut pas être inférieur à 1 et supérieur au nombre de tours !\")\n        }*/\n        else {\n            socket.emit(\"game_create\", {\n                gameCode,\n                gameCreated: new Date(),\n                gameSettings: {\n                    \n                    rounds,\n                    startStock,\n                    selectedDemand,\n                    constDemand,\n                    minDemand,\n                    maxDemand,\n                    rampCoeff,\n                    rampShift,\n                    sinCoeff,\n                    sinFreq,\n                    sinPhase,\n                    sinShift\n                },\n                roundData: {\n                    currentRound: 0,\n                    demandClient,\n                    producer: [],\n                    distributor: [],\n                    wholesaler: [],\n                    retailer: []\n                }\n            })\n        }\n    }\n\n    function getSelectedRounds(e) {\n        setRounds(e)\n    }\n\n    const getStorageCost = (value) => {\n        setStorageCost(parseFloat(value))\n    }\n\n    const getRuptureCost = (value) => {\n        setRuptureCost(parseFloat(value));\n    }\n\n    function getSelectedDemand(e){\n        setSelectedDemand(e.target.value)\n    }\n\n\n    let options = \"\"\n    let differentDemands = \"\"\n    if(selectedGameMode === 1) {\n        differentDemands = (\n        <div>\n        <span>Choisissez les paramètres de la demande: (ignorer si non concerné)</span>\n        <InputField name=\"Enter value of constant...\" getValue={setConstDemand} />\n        <br />\n        \n\t    <InputField name=\"Enter minimum value of Random...\" getValue={setMinDemand} />\n\t    <InputField name=\"Enter maximum value of Random...\" getValue={setMaxDemand} />\n        <br />\n\n\t    <InputField name=\"Enter value of the coeff of the ramp...\" getValue={setRampCoeff} />\n\t    <InputField name=\"Enter value of the shift of the ramp...\" getValue={setRampShift} />\n        <br />\n        <span>Ex: 3.3, 0.18, -0.3, 3.7</span>\n    \t<InputField name=\"Enter value of the coeff of the sinus...\" getValue={setSinCoeff} />\n\t    <InputField name=\"Enter value of the frequence of the sinus...\" getValue={setSinFreq} />\n      \t<InputField name=\"Enter value of the phase of the sinus...\" getValue={setSinPhase} />\n\t    <InputField name=\"Enter value of the shift of the sinus...\" getValue={setSinShift} />\n        </div>\n        )\n\n        options = (\n            <div className={\"options_wrapper\"}>\n                <span>Entrez le code de jeu:</span>\n                <InputField\n                    name={\"GameCode\"}\n                    getValue={setGameCode}\n                    description={\"Signes autorisés: A-Z, a-z, 0-9\"}\n                />\n                <span>Choisissez le nombre de tours de jeu:</span>\n                <div>\n                <InputField \n                    name={\"Rounds\"}\n                    getValue={getSelectedRounds}\n                    description={\"Par exemple: 15\"}\n                />\n                </div>\n                \n                <span>Choisissez le stock de départ des joueurs:</span>\n                <InputField \n                    name={\"StartStock\"}\n                    getValue={setStartStock}\n                    description={\"Par exemple: 15\"}\n                    \n                /> \n\n                <span>Coût de stockage:</span>\n                <InputField \n                    name={\"StorageCost\"}\n                    getValue={getStorageCost}\n                    description={\"Par exemple: 10\"}\n                />\n                <span>Coût de rupture:</span>\n                <InputField \n                    name={\"RuptureCost\"}\n                    getValue={getRuptureCost}\n                    description={\"Par exemple: 5\"}\n                />\n                <span>Choisissez le type de demande:</span>\n                <div className={\"select_demand\"} onChange={getSelectedDemand}>\n                    <div>\n                        <input id=\"{const}\" type={\"radio\"} name={\"demand\"} value={0} />\n                        <label htmlFor={\"const\"}>Constant</label>\n                        <br />\n                        <input id=\"{rnd}\" type={\"radio\"} name={\"demand\"} value={1} />\n                        <label htmlFor={\"rnd\"}>Random</label>\n                        <br />\n                        <input id=\"{ramp}\" type={\"radio\"} name={\"demand\"} value={2} />\n                        <label htmlFor={\"ramp\"}>Ramp</label>\n                        <br />\n                        <input id=\"{sin}\" type={\"radio\"} name={\"demand\"} value={3} />\n                        <label htmlFor={\"sin\"}>Sinus</label>\n                    </div>\n                    </div>\n                        {differentDemands}\n                \n                <Button onClick={createGame}>Créer un jeu</Button>\n            </div>\n        )\n    }\n    else if(selectedGameMode === 2){\n        options = (\n            <div className={\"options_wrapper\"}>\n                <span>Entrez le code de jeu:</span>\n                <InputField\n                    name={\"GameCode\"}\n                    getValue={setGameCode}\n                    invalid={inputError}\n                    description={\"Signes autorisés: A-Z, a-z, 0-9\"}\n                />\n                {selectRoleMenu ?\n                    <>\n                        <span>Choisissez un rôle:</span>\n                        <div className={\"select_role\"}>\n                            <Tile\n                                imgSrc={\"/icons/factory.svg\"}\n                                imgAlt={\"New Game\"}\n                                idKey={1}\n                                getValue={setSelectedRole}\n                                currentSelected={selectedRole}\n                                disabled={disabledRoles[0]}\n                            >Producteur</Tile>\n                            <Tile\n                                imgSrc={\"/icons/box.svg\"}\n                                imgAlt={\"New Game\"}\n                                idKey={2}\n                                getValue={setSelectedRole}\n                                currentSelected={selectedRole}\n                                disabled={disabledRoles[1]}\n                            >Distributeur</Tile>\n                            <Tile\n                                imgSrc={\"/icons/wholesale.svg\"}\n                                imgAlt={\"New Game\"}\n                                idKey={3}\n                                getValue={setSelectedRole}\n                                currentSelected={selectedRole}\n                                disabled={disabledRoles[2]}\n                            >Grossiste</Tile>\n                            <Tile\n                                imgSrc={\"/icons/shop.svg\"}\n                                imgAlt={\"New Game\"}\n                                idKey={4}\n                                getValue={setSelectedRole}\n                                currentSelected={selectedRole}\n                                disabled={disabledRoles[3]}\n                            >Détaillant</Tile>\n                            <Tile\n                                imgSrc={\"/icons/GM.svg\"}\n                                imgAlt={\"New Game\"}\n                                idKey={5}\n                                getValue={setSelectedRole}\n                                currentSelected={selectedRole}\n                                disabled={disabledRoles[4]}\n                            >Maitre du Jeu</Tile>\n                        </div>\n                    </>\n                :\n                    <></>\n                }\n                {selectRoleMenu ?\n                    <Button\n                        onClick={onJoinGameClick}\n                    >\n                        Entrer dans le jeu\n                    </Button>\n                    :\n                    <Button\n                        onClick={onJoinGameClick}\n                    >\n                        Choisissez le rôle de jeu\n                    </Button>\n                }\n            </div>\n        )\n    }\n    else {\n        options = \"\"\n    }\n\n    return (\n        <div className={\"game_select\"}>\n            { redirectComponent }\n            <div className={\"tile_wrapper\"}>\n                <Tile\n                    imgSrc={\"/icons/new.svg\"}\n                    imgAlt={\"New Game\"}\n                    idKey={1}\n                    getValue={setSelectedGameMode}\n                    currentSelected={selectedGameMode}\n                >\n                    Créer un nouveau jeu\n                </Tile>\n                <Tile\n                    imgSrc={\"/icons/people.svg\"}\n                    imgAlt={\"Enter Game\"}\n                    idKey={2}\n                    getValue={setSelectedGameMode}\n                    currentSelected={selectedGameMode}\n                >\n                    Entrez dans le jeu existant\n                </Tile>\n            </div>\n            { options }\n        </div>\n    )\n}\n\nexport default NewGame\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}